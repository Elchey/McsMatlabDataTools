<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of frameMovie</title>
  <meta name="keywords" content="frameMovie">
  <meta name="description" content="Display animation of the frame data">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../index.html">Home</a> &gt;  <a href="../index.html">+McsHDF5</a> &gt; <a href="index.html">@McsFrameDataEntity</a> &gt; frameMovie.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../index.html"><img alt="<" border="0" src="../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for +McsHDF5/@McsFrameDataEntity&nbsp;<img alt=">" border="0" src="../../right.png"></a></td></tr></table>-->

<h1>frameMovie
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>Display animation of the frame data</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function frameMovie(fde,cfg,varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> Display animation of the frame data

 function frameMovie(fde,cfg,varargin)

 This function shows the evolution of FrameStream data over time. It
 visualizes the data at each time point as a surface over the 2D array of
 channels, in the same way as the plot function for FrameDataEntities. It
 animates the flow of time by plotting this visualization for each time
 point.

 Input:
   fde         -   A McsFrameDataEntity object

   cfg         -   Either empty (for default parameters) or a
                   structure with (some of) the following fields: 
                   'start': The start time point of the animation in seconds,
                       or (if empty) the first sample.            
                   'end':  The end time point of the of the animation in
                       seconds, or (if empty) the last sample.
                   'step': The time step between animation frames in
                       seconds, or (if empty) a step from sample to sample
                   'fps': The animation update rate in frames per second.
                       This is not guaranteed and provides just an upper
                       limit, because the actual maximum animation rate
                       depends on the speed of the machine.

 Further optional inputs in varargin are interpreted as parameters for
 gca. -&gt; set(gca,varargin{:}).</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="plot.html" class="code" title="function plot(frame,cfg,varargin)">plot</a>	Plot the contents of a McsFrameDataEntity object.</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function frameMovie(fde,cfg,varargin)</a>
0002 <span class="comment">% Display animation of the frame data</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% function frameMovie(fde,cfg,varargin)</span>
0005 <span class="comment">%</span>
0006 <span class="comment">% This function shows the evolution of FrameStream data over time. It</span>
0007 <span class="comment">% visualizes the data at each time point as a surface over the 2D array of</span>
0008 <span class="comment">% channels, in the same way as the plot function for FrameDataEntities. It</span>
0009 <span class="comment">% animates the flow of time by plotting this visualization for each time</span>
0010 <span class="comment">% point.</span>
0011 <span class="comment">%</span>
0012 <span class="comment">% Input:</span>
0013 <span class="comment">%   fde         -   A McsFrameDataEntity object</span>
0014 <span class="comment">%</span>
0015 <span class="comment">%   cfg         -   Either empty (for default parameters) or a</span>
0016 <span class="comment">%                   structure with (some of) the following fields:</span>
0017 <span class="comment">%                   'start': The start time point of the animation in seconds,</span>
0018 <span class="comment">%                       or (if empty) the first sample.</span>
0019 <span class="comment">%                   'end':  The end time point of the of the animation in</span>
0020 <span class="comment">%                       seconds, or (if empty) the last sample.</span>
0021 <span class="comment">%                   'step': The time step between animation frames in</span>
0022 <span class="comment">%                       seconds, or (if empty) a step from sample to sample</span>
0023 <span class="comment">%                   'fps': The animation update rate in frames per second.</span>
0024 <span class="comment">%                       This is not guaranteed and provides just an upper</span>
0025 <span class="comment">%                       limit, because the actual maximum animation rate</span>
0026 <span class="comment">%                       depends on the speed of the machine.</span>
0027 <span class="comment">%</span>
0028 <span class="comment">% Further optional inputs in varargin are interpreted as parameters for</span>
0029 <span class="comment">% gca. -&gt; set(gca,varargin{:}).</span>
0030 
0031     <span class="keyword">if</span> isempty(cfg);
0032         cfg.start = McsHDF5.TickToSec(fde.FrameDataTimeStamps(1));
0033         cfg.end = McsHDF5.TickToSec(fde.FrameDataTimeStamps(end));
0034         cfg.step = McsHDF5.TickToSec(fde.Info.Tick);
0035         cfg.fps = 10;
0036     <span class="keyword">end</span>
0037     
0038     <span class="keyword">if</span> ~isfield(cfg,<span class="string">'start'</span>)
0039         cfg.start = McsHDF5.TickToSec(fde.FrameDataTimeStamps(1));
0040     <span class="keyword">end</span>
0041         
0042     <span class="keyword">if</span> ~isfield(cfg,<span class="string">'end'</span>)
0043         cfg.end = McsHDF5.TickToSec(fde.FrameDataTimeStamps(end));
0044     <span class="keyword">end</span>
0045     
0046     <span class="keyword">if</span> ~isfield(cfg,<span class="string">'step'</span>)
0047         cfg.step = McsHDF5.TickToSec(fde.Info.Tick);
0048     <span class="keyword">end</span>
0049     
0050     <span class="keyword">if</span> ~isfield(cfg,<span class="string">'fps'</span>)
0051         cfg.fps = 10;
0052     <span class="keyword">end</span>
0053     
0054     cfg.window = cfg.start;
0055    
0056     initial = true;
0057     
0058     <span class="keyword">while</span> cfg.window &lt; cfg.end - cfg.step
0059         cfg.window = cfg.window + cfg.step;
0060         
0061         <a href="plot.html" class="code" title="function plot(frame,cfg,varargin)">plot</a>(fde,cfg)
0062         
0063         <span class="keyword">if</span> ~isempty(varargin)
0064             set(gca,varargin{:});
0065         <span class="keyword">end</span>
0066         
0067         <span class="keyword">if</span> initial
0068             input(<span class="string">'Set initial position'</span>);
0069             initial = false;
0070             ax = axis;
0071             [az,el] = view;
0072         <span class="keyword">end</span>
0073         axis(ax);
0074         view(az,el);
0075         pause(1/cfg.fps);
0076     <span class="keyword">end</span>
0077 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Wed 26-Mar-2014 15:28:34 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>